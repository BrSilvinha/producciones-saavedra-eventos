(()=>{var e={};e.id=673,e.ids=[673],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4546:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(8592),r(5495),r(5866);var s=r(3191),a=r(8716),n=r(7922),i=r.n(n),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["scanner",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8592)),"D:\\producciones-saavedra-eventos\\frontend\\src\\app\\scanner\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5495)),"D:\\producciones-saavedra-eventos\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\producciones-saavedra-eventos\\frontend\\src\\app\\scanner\\page.tsx"],u="/scanner/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/scanner/page",pathname:"/scanner",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6975:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8987:(e,t,r)=>{Promise.resolve().then(r.bind(r,381)),Promise.resolve().then(r.bind(r,2126))},9925:(e,t,r)=>{Promise.resolve().then(r.bind(r,7429))},2126:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>o});var s=r(326),a=r(2659),n=r(4976),i=r(787),l=r(7577);function o({children:e}){let[t]=(0,l.useState)(()=>new a.S({defaultOptions:{queries:{staleTime:3e5,retry:(e,t)=>t?.response?.status!==404&&e<2},mutations:{retry:!1}}}));return(0,s.jsxs)(n.aH,{client:t,children:[e,s.jsx(i.t,{initialIsOpen:!1,position:"bottom"})]})}},7429:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(326),a=r(7577),n=r(434),i=r(3401);let l=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var o=r(9381),c=r(104),d=r(6421);let u=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))});var m=r(7610);let h=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}),x=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}),g=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}),v=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}),b=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}),p=a.forwardRef(function({title:e,titleId:t,...r},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))});function f(){let[e,t]=(0,a.useState)([]),[r,f]=(0,a.useState)(""),[j,w]=(0,a.useState)(null),[y,N]=(0,a.useState)(!1),[k,E]=(0,a.useState)([]),[C,M]=(0,a.useState)(!0),[D,P]=(0,a.useState)(null),[S,L]=(0,a.useState)("Operador Scanner"),[Z,R]=(0,a.useState)(!0),[A,T]=(0,a.useState)(null),O=(0,a.useRef)(null),_=(0,a.useRef)(null),I=(0,a.useRef)(null),q=async()=>{if(!r){alert("Por favor selecciona un evento primero");return}try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:640},height:{ideal:480}}});O.current&&(O.current.srcObject=e,O.current.play()),T(e),N(!0),I.current=setInterval(V,500)}catch(e){console.error("Error accessing camera:",e),alert("Error al acceder a la c\xe1mara. Verifica los permisos.")}},V=()=>{if(!O.current||!_.current||!y)return;let e=O.current,t=_.current,r=t.getContext("2d");if(r&&0!==e.videoWidth&&0!==e.videoHeight){t.width=e.videoWidth,t.height=e.videoHeight,r.drawImage(e,0,0,t.width,t.height);try{if(r.getImageData(0,0,t.width,t.height),.1>Math.random()){let e="mock_qr_"+Date.now();B(e)}}catch(e){}}},B=async e=>{if(r)try{let t=await fetch("http://localhost:5000/api/qr/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qrToken:e,eventId:r,scannerInfo:{user:S,device:navigator.userAgent,timestamp:new Date().toISOString()}})});if(t.ok){let e=await t.json();e.success&&"valid"===e.scanResult?W("success"):W("error"),E(t=>[e,...t].slice(0,20)),H(e)}else{let e=await t.json();W("error");let r={success:!1,scanResult:"invalid",displayMessage:e.message||"Error de validaci\xf3n"};E(e=>[r,...e].slice(0,20))}}catch(t){console.error("Error validating QR:",t),W("error");let e={success:!1,scanResult:"invalid",displayMessage:"Error de conexi\xf3n con el servidor"};E(t=>[e,...t].slice(0,20))}},W=e=>{if(Z)try{let t=new(window.AudioContext||window.webkitAudioContext),r=t.createOscillator(),s=t.createGain();r.connect(s),s.connect(t.destination),"success"===e?(r.frequency.setValueAtTime(800,t.currentTime),r.frequency.setValueAtTime(1e3,t.currentTime+.1)):(r.frequency.setValueAtTime(400,t.currentTime),r.frequency.setValueAtTime(300,t.currentTime+.1)),s.gain.setValueAtTime(.1,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),r.start(t.currentTime),r.stop(t.currentTime+.2)}catch(e){console.log("Audio not supported")}},H=e=>{let t=document.createElement("div");t.className=`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-sm ${e.success?"bg-green-500 text-white":"bg-red-500 text-white"}`,t.innerHTML=`
      <div class="flex items-center space-x-2">
        <div>${e.success?"✅":"❌"}</div>
        <div class="font-medium">${e.displayMessage}</div>
      </div>
    `,document.body.appendChild(t),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},3e3)},G=async e=>{if(!r){alert("Por favor selecciona un evento primero");return}try{let t=await fetch("http://localhost:5000/api/qr/simulate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:r,scenario:e})});if(t.ok){let e=await t.json();e.success&&"valid"===e.scanResult?W("success"):W("error"),E(t=>[e,...t].slice(0,20)),H(e)}}catch(e){console.error("Error simulating scan:",e)}},Q=e=>{switch(e){case"valid":return s.jsx(i.Z,{className:"w-6 h-6 text-green-600"});case"used":return s.jsx(l,{className:"w-6 h-6 text-red-600"});case"invalid":return s.jsx(o.Z,{className:"w-6 h-6 text-red-600"});case"wrong_event":return s.jsx(o.Z,{className:"w-6 h-6 text-yellow-600"});default:return s.jsx(c.Z,{className:"w-6 h-6 text-gray-400"})}},$=e=>{switch(e){case"valid":return"border-green-200 bg-green-50";case"used":case"invalid":return"border-red-200 bg-red-50";case"wrong_event":return"border-yellow-200 bg-yellow-50";default:return"border-gray-200 bg-gray-50"}},F=e=>new Date(e).toLocaleString("es-PE",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"});return C?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(d.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4 animate-spin"}),s.jsx("p",{className:"text-gray-600",children:"Cargando scanner..."})]})})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)(n.default,{href:"/",className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(u,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Dashboard"})]}),s.jsx("div",{className:"h-6 w-px bg-gray-300"}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scanner QR"}),s.jsx("p",{className:"text-gray-600",children:"Valida entradas en tiempo real"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(n.default,{href:"/eventos",className:"btn btn-outline",children:[s.jsx(m.Z,{className:"w-5 h-5 mr-2"}),"Ver Eventos"]}),(0,s.jsxs)(n.default,{href:"/tickets",className:"btn btn-primary",children:[s.jsx(c.Z,{className:"w-5 h-5 mr-2"}),"Generar Tickets"]})]})]})})}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[D&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-red-800",children:D})}),0===e.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(c.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No hay eventos activos"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Necesitas tener eventos activos para usar el scanner"}),(0,s.jsxs)(n.default,{href:"/eventos",className:"btn btn-primary",children:[s.jsx(m.Z,{className:"w-5 h-5 mr-2"}),"Ver Eventos"]})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuraci\xf3n del Scanner"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Evento Activo"}),(0,s.jsxs)("select",{value:r,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Selecciona un evento"}),e.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," - ",new Date(e.date).toLocaleDateString("es-PE")]},e.id))]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario del Scanner"}),s.jsx("input",{type:"text",value:S,onChange:e=>L(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nombre del operador"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sonidos"}),s.jsx("button",{onClick:()=>R(!Z),className:`p-2 rounded-lg ${Z?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:Z?s.jsx(h,{className:"w-5 h-5"}):s.jsx(x,{className:"w-5 h-5"})})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Scanner de C\xe1mara"}),s.jsx("div",{className:"qr-scanner mb-6",children:s.jsx("div",{className:"relative aspect-square bg-gray-900 rounded-lg overflow-hidden",children:y?(0,s.jsxs)(s.Fragment,{children:[s.jsx("video",{ref:O,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"w-48 h-48 border-2 border-blue-500 rounded-lg",children:[s.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-blue-500"}),s.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-blue-500"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-blue-500"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-blue-500"})]})}),s.jsx("canvas",{ref:_,className:"hidden"})]}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(g,{className:"w-16 h-16 mx-auto mb-4"}),s.jsx("p",{children:"C\xe1mara inactiva"}),s.jsx("p",{className:"text-sm",children:"Presiona iniciar para comenzar"})]})})})}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[y?(0,s.jsxs)("button",{onClick:()=>{A&&(A.getTracks().forEach(e=>e.stop()),T(null)),I.current&&(clearInterval(I.current),I.current=null),O.current&&(O.current.srcObject=null),N(!1)},className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(b,{className:"w-5 h-5 mr-2"}),"Detener C\xe1mara"]}):(0,s.jsxs)("button",{onClick:q,disabled:!r,className:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(v,{className:"w-5 h-5 mr-2"}),"Iniciar C\xe1mara"]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:s.jsx(p,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"\uD83E\uDDEA Pruebas de Escaneo"}),s.jsx("p",{className:"text-blue-800 text-sm mb-4",children:"Usa estos botones para probar diferentes escenarios"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{onClick:()=>G("valid"),disabled:!r,className:"inline-flex items-center justify-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:"✅ QR V\xe1lido"}),s.jsx("button",{onClick:()=>G("used"),disabled:!r,className:"inline-flex items-center justify-center px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:"❌ QR Usado"}),s.jsx("button",{onClick:()=>G("invalid"),disabled:!r,className:"inline-flex items-center justify-center px-3 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50 transition-colors",children:"\uD83D\uDEAB QR Inv\xe1lido"}),s.jsx("button",{onClick:()=>G("wrong_event"),disabled:!r,className:"inline-flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors",children:"\uD83D\uDD04 Evento Incorrecto"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[j&&(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Evento Seleccionado"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 text-lg",children:j.name}),s.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:"\uD83D\uDFE2 Activo"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,s.jsxs)("p",{children:["\uD83D\uDCC5 ",F(j.date)]}),j.location&&(0,s.jsxs)("p",{children:["\uD83D\uDCCD ",j.location]}),(0,s.jsxs)("p",{children:["\uD83D\uDC64 Operador: ",S]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Resultados de Escaneo (",k.length,")"]}),k.length>0&&s.jsx("button",{onClick:()=>E([]),className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Limpiar"})]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===k.length?(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(c.Z,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No hay escaneos a\xfan"}),s.jsx("p",{className:"text-sm",children:"Los resultados aparecer\xe1n aqu\xed en tiempo real"})]}):k.map((e,t)=>s.jsx("div",{className:`border rounded-lg p-4 ${$(e.scanResult)}`,children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[Q(e.scanResult),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900 mb-1",children:e.displayMessage}),e.ticketInfo&&(0,s.jsxs)("div",{className:"text-sm text-gray-600 space-y-1 mt-2",children:[(0,s.jsxs)("p",{children:["\uD83C\uDFAB ",e.ticketInfo.ticketType.name]}),(0,s.jsxs)("p",{children:["\uD83D\uDCB0 ",new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN"}).format(e.ticketInfo.ticketType.price)]}),e.ticketInfo.scannedAt&&(0,s.jsxs)("p",{children:["⏰ ",F(e.ticketInfo.scannedAt)]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString("es-PE")}),e.simulation&&s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Simulaci\xf3n"})]})]})]})},t))})]}),k.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estad\xedsticas de Sesi\xf3n"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.filter(e=>"valid"===e.scanResult).length}),s.jsx("div",{className:"text-xs text-gray-600",children:"V\xe1lidos"})]}),(0,s.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:k.filter(e=>"valid"!==e.scanResult).length}),s.jsx("div",{className:"text-xs text-gray-600",children:"Rechazados"})]})]})]})]})]})]})]})}},5495:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>o,viewport:()=>c});var s=r(9510),a=r(5384),n=r.n(a);r(5023);let i=(0,r(8570).createProxy)(String.raw`D:\producciones-saavedra-eventos\frontend\src\app\providers.tsx#Providers`);var l=r(9125);let o={title:"Producciones Saavedra - Sistema de Gesti\xf3n de Eventos",description:"Sistema profesional para la gesti\xf3n de eventos y control de asistencia mediante c\xf3digos QR",keywords:"eventos, QR, tickets, gesti\xf3n, producciones, saavedra",authors:[{name:"Producciones Saavedra"}]},c={width:"device-width",initialScale:1,themeColor:"#1f2937"};function d({children:e}){return s.jsx("html",{lang:"es",className:"h-full",children:s.jsx("body",{className:`${n().className} h-full bg-gray-50`,children:(0,s.jsxs)(i,{children:[e,s.jsx(l.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff"},success:{style:{background:"#10b981"}},error:{style:{background:"#ef4444"}}}})]})})})}},8592:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`D:\producciones-saavedra-eventos\frontend\src\app\scanner\page.tsx#default`)},5023:()=>{},7610:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(7577);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},3401:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(7577);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},9381:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(7577);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},104:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(7577);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[558,474],()=>r(4546));module.exports=s})();